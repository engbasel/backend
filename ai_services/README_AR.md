# ุฎุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู - NeuroAid

## ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงููุฌูุฏ ูุญุชูู ุนูู 3 ุฎุฏูุงุช ุฐูุงุก ุงุตุทูุงุนู ูุณุชููุฉ ูุชุทุจูู NeuroAid:

### 1. ุฎุฏูุฉ ุงููุญุงุฏุซุฉ ุงูุฐููุฉ (Chatbot) - ุงููููุฐ 5001
**ุงููุธููุฉ**: ุฑูุจูุช ูุญุงุฏุซุฉ ุฐูู ููุฅุฌุงุจุฉ ุนูู ุงูุฃุณุฆูุฉ ุงููุชุนููุฉ ุจุงูุณูุชุฉ ุงูุฏูุงุบูุฉ

**ุงููููุฒุงุช**:
- ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ
- ุฅุฌุงุจุงุช ุชูุตูููุฉ ุนู:
  - ุฃุนุฑุงุถ ุงูุณูุชุฉ ุงูุฏูุงุบูุฉ
  - ุทุฑู ุงูููุงูุฉ
  - ุนูุงูู ุงูุฎุทุฑ
  - ุฎูุงุฑุงุช ุงูุนูุงุฌ
- ุฏุนู ุณุฌู ุงููุญุงุฏุซุงุช

**ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู**:
```bash
curl -X POST http://localhost:5001/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ูุง ูู ุฃุนุฑุงุถ ุงูุณูุชุฉ ุงูุฏูุงุบูุฉุ"}'
```

---

### 2. ุฎุฏูุฉ ุชูููู ุงููุฎุงุทุฑ (Stroke Assessment) - ุงููููุฐ 5002
**ุงููุธููุฉ**: ุชูููู ุฎุทุฑ ุงูุฅุตุงุจุฉ ุจุงูุณูุชุฉ ุงูุฏูุงุบูุฉ ุจูุงุกู ุนูู ุจูุงูุงุช ุงููุฑูุถ

**ุงููููุฒุงุช**:
- ุญุณุงุจ ุดุงูู ูููุฎุงุทุฑ
- ุชูุตูุงุช ูุฎุตุตุฉ ุจุงูุนุฑุจูุฉ
- ุชุญููู ุนูุงูู ูุชุนุฏุฏุฉ:
  - ุงูุนูุฑ ูุงูุฌูุณ
  - ุงูุญุงูุงุช ุงูุตุญูุฉ (ุถุบุท ุงูุฏูุ ุฃูุฑุงุถ ุงูููุจ)
  - ููุท ุงูุญูุงุฉ (ุงูุชุฏุฎููุ ุงููุดุงุท ุงูุจุฏูู)
  - ุงููุคุดุฑุงุช ุงูุญูููุฉ (ุงูุณูุฑุ BMI)

**ูุณุชููุงุช ุงูุฎุทุฑ**:
- **ููุฎูุถ** (Low): ุฃูู ูู 40%
- **ูุชูุณุท** (Medium): 40-70%
- **ูุฑุชูุน** (High): ุฃูุซุฑ ูู 70%

**ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู**:
```bash
curl -X POST http://localhost:5002/predict \
  -H "Content-Type: application/json" \
  -d '{
    "age": 65,
    "gender": "Male",
    "hypertension": 1,
    "heart_disease": 0,
    "avg_glucose_level": 120,
    "bmi": 28,
    "smoking_status": "formerly smoked"
  }'
```

---

### 3. ุฎุฏูุฉ ุชุญููู ุงูุตูุฑ (Image Analysis) - ุงููููุฐ 5003
**ุงููุธููุฉ**: ุชุญููู ุตูุฑ ุงูุฃุดุนุฉ ุงูุฏูุงุบูุฉ ูููุดู ุนู ุนูุงูุงุช ุงูุณูุชุฉ ุงูุฏูุงุบูุฉ

**ุงููููุฒุงุช**:
- ุฑูุน ูุชุญููู ุงูุตูุฑ
- ุฏุฑุฌุฉ ุซูุฉ ูู ุงููุชูุฌุฉ
- ูุชุงุฆุฌ ุชูุตูููุฉ ุจุงูุนุฑุจูุฉ
- ุฏุนู ููุงุฐุฌ TensorFlow/Keras

**ุฃููุงุน ุงููุชุงุฆุฌ**:
- **ุทุจูุนู** (Normal): ูุง ุชูุฌุฏ ุนูุงูุงุช ูุงุถุญุฉ
- **ูุญุชุงุฌ ูุฑุงุฌุนุฉ** (Requires Review): ูุญุชุงุฌ ุชูููู ูุชุฎุตุต
- **ุบูุฑ ุทุจูุนู** (Abnormal): ุนูุงูุงุช ูุญุชููุฉ ููุณูุชุฉ

**ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู**:
```bash
curl -X POST http://localhost:5003/analyze \
  -F "image=@brain_scan.jpg"
```

---

## ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
- Python 3.8 ุฃู ุฃุญุฏุซ
- pip (ูุฏูุฑ ุญุฒู Python)

### ุงูุชุซุจูุช ุงูุณุฑูุน

#### ุทุฑููุฉ 1: ุชุซุจูุช ุชููุงุฆู (ููุตู ุจู)
```bash
# ูู ูุฌูุฏ ai_services
install_dependencies.bat
```

#### ุทุฑููุฉ 2: ุชุซุจูุช ูุฏูู
```bash
# ุฎุฏูุฉ ุงููุญุงุฏุซุฉ
cd chatbot
pip install -r requirements.txt

# ุฎุฏูุฉ ุชูููู ุงููุฎุงุทุฑ
cd ../stroke_assessment
pip install -r requirements.txt

# ุฎุฏูุฉ ุชุญููู ุงูุตูุฑ
cd ../stroke_image
pip install -r requirements.txt
```

---

## ุชุดุบูู ุงูุฎุฏูุงุช

### ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช ูุนุงู (ููุตู ุจู)
```bash
start_all_services.bat
```

### ุชุดุบูู ูู ุฎุฏูุฉ ุนูู ุญุฏุฉ

**ุฎุฏูุฉ ุงููุญุงุฏุซุฉ**:
```bash
cd chatbot
python app.py
```

**ุฎุฏูุฉ ุชูููู ุงููุฎุงุทุฑ**:
```bash
cd stroke_assessment
python app.py
```

**ุฎุฏูุฉ ุชุญููู ุงูุตูุฑ**:
```bash
cd stroke_image
python app.py
```

---

## ุงูุชุญูู ูู ุงูุฎุฏูุงุช

ุจุนุฏ ุงูุชุดุบููุ ุชุญูู ูู ุฃู ุฌููุน ุงูุฎุฏูุงุช ุชุนูู:

```bash
# ุฎุฏูุฉ ุงููุญุงุฏุซุฉ
curl http://localhost:5001/health

# ุฎุฏูุฉ ุชูููู ุงููุฎุงุทุฑ
curl http://localhost:5002/health

# ุฎุฏูุฉ ุชุญููู ุงูุตูุฑ
curl http://localhost:5003/health
```

ูุฌุจ ุฃู ุชุญุตู ุนูู ุงุณุชุฌุงุจุฉ `{"status": "OK"}` ูู ูู ุฎุฏูุฉ.

---

## ุงูุฑุจุท ูุน Backend ุงูุฑุฆูุณู

ุงูุณูุฑูุฑ ุงูุฑุฆูุณู (Node.js) ุนูู `http://localhost:3001` ูููู ุชููุงุฆูุงู ุจุชูุฌูู ุงูุทูุจุงุช ุฅูู ุฎุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู:

| ููุทุฉ ุงูููุงูุฉ ูู Backend | ุงูุฎุฏูุฉ ุงููุณุชูุฏูุฉ |
|-------------------------|------------------|
| `/api/ai/chat` | ุฎุฏูุฉ ุงููุญุงุฏุซุฉ (5001) |
| `/api/ai/stroke-assessment` | ุฎุฏูุฉ ุชูููู ุงููุฎุงุทุฑ (5002) |
| `/api/ai/scan-image` | ุฎุฏูุฉ ุชุญููู ุงูุตูุฑ (5003) |

**ููุงุญุธุฉ ูููุฉ**: Backend ูุชุนุงูู ูุน:
- ุงููุตุงุฏูุฉ (Authentication)
- ุงูุชุญูู ูู ุงูุทูุจุงุช
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ุงูุงุณุชุฌุงุจุงุช ุงูุงุญุชูุงุทูุฉ ุฅุฐุง ูุงูุช ุฎุฏูุงุช AI ุบูุฑ ูุชุงุญุฉ

---

## ุฅุถุงูุฉ ููุงุฐุฌ ุงูุชุนูู ุงูุขูู

### ูููุฐุฌ ุชูููู ุงููุฎุงุทุฑ
1. ูู ุจุชุฏุฑูุจ ูููุฐุฌ scikit-learn
2. ุงุญูุธู ูู `stroke_model.pkl`
3. ุถุนู ูู ูุฌูุฏ `stroke_assessment/`

```python
import pickle
# ุจุนุฏ ุชุฏุฑูุจ ุงููููุฐุฌ
with open('stroke_model.pkl', 'wb') as f:
    pickle.dump(model, f)
```

### ูููุฐุฌ ุชุญููู ุงูุตูุฑ
1. ูู ุจุชุฏุฑูุจ ูููุฐุฌ Keras/TensorFlow
2. ุงุญูุธู ูู `stroke_image_model.h5`
3. ุถุนู ูู ูุฌูุฏ `stroke_image/`

```python
# ุจุนุฏ ุชุฏุฑูุจ ุงููููุฐุฌ
model.save('stroke_image_model.h5')
```

**ููุงุญุธุฉ**: ุฅุฐุง ูู ุชูู ุงูููุงุฐุฌ ููุฌูุฏุฉุ ุณุชุณุชุฎุฏู ุงูุฎุฏูุงุช ููุทู ูุงุฆู ุนูู ุงูููุงุนุฏ (Rule-based) ูุจุฏูู.

---

## ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููููุฐ ูุณุชุฎุฏู ุจุงููุนู
```bash
# ุบููุฑ ุงููููุฐ ุนูุฏ ุงูุชุดุบูู
PORT=5011 python app.py
```

### ูุดุงูู ูู ุงูุชุจุนูุงุช
```bash
# ุญุฏูุซ pip ุฃููุงู
pip install --upgrade pip

# ุซู ุฃุนุฏ ุงูุชุซุจูุช
pip install -r requirements.txt
```

### ุฎุทุฃ ูู ุงุณุชูุฑุงุฏ TensorFlow
```bash
# ุฅุฐุง ููุช ูุง ุชุญุชุงุฌ TensorFlowุ ููููู ุฅุฒุงูุชู
pip uninstall tensorflow

# ุงูุฎุฏูุฉ ุณุชุนูู ุจุงูููุทู ุงููุงุฆู ุนูู ุงูููุงุนุฏ
```

### ูุดุงูู CORS
ุฌููุน ุงูุฎุฏูุงุช ูุฏููุง CORS ููุนูู ุงูุชุฑุงุถูุงู. ุฅุฐุง ุฃุฑุฏุช ุชูููุฏ ุงููุตุงุฏุฑ:

```python
# ูู app.py
CORS(app, origins=['http://localhost:3001'])
```

---

## ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุฎุฏูุฉ ุงููุญุงุฏุซุฉ
```bash
curl -X POST http://localhost:5001/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ูุฑุญุจุง"}'
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ**:
```json
{
  "response": "ูุฑุญุจุงู! ุฃูุง ูุณุงุนุฏู ุงูุฐูู ูู NeuroAid...",
  "timestamp": "2024-12-07T19:30:00",
  "service": "chatbot"
}
```

### ุงุฎุชุจุงุฑ ุฎุฏูุฉ ุชูููู ุงููุฎุงุทุฑ
```bash
curl -X POST http://localhost:5002/predict \
  -H "Content-Type: application/json" \
  -d '{"age": 65, "gender": "Male", "hypertension": 1}'
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ**:
```json
{
  "risk_level": "medium",
  "risk_percentage": 55,
  "recommendations": ["..."],
  "timestamp": "2024-12-07T19:30:00"
}
```

### ุงุฎุชุจุงุฑ ุฎุฏูุฉ ุชุญููู ุงูุตูุฑ
```bash
curl -X POST http://localhost:5003/analyze \
  -F "image=@test_scan.jpg"
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ**:
```json
{
  "result": "normal",
  "confidence": 0.85,
  "findings": ["..."],
  "timestamp": "2024-12-07T19:30:00"
}
```

---

## ุงูุชุทููุฑ

### ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ

1. **ุชุนุฏูู ุงูุฑุฏูุฏ** (ุฎุฏูุฉ ุงููุญุงุฏุซุฉ):
   - ุงูุชุญ `chatbot/app.py`
   - ุนุฏูู ูุงููุณ `RESPONSES`
   - ุฃุถู ูููุงุช ููุชุงุญูุฉ ุฌุฏูุฏุฉ ูู `get_response()`

2. **ุชุญุณูู ุชูููู ุงููุฎุงุทุฑ**:
   - ุงูุชุญ `stroke_assessment/app.py`
   - ุนุฏูู `calculate_risk_rule_based()`
   - ุฃุถู ุนูุงูู ุฌุฏูุฏุฉ ุฃู ุญุณูู ุงูุญุณุงุจุงุช

3. **ุชุญุณูู ุชุญููู ุงูุตูุฑ**:
   - ุงูุชุญ `stroke_image/app.py`
   - ุนุฏูู `analyze_image_rule_based()`
   - ุฃู ุฃุถู ูููุฐุฌ ML ูุฏุฑูุจ

---

## ุงููุดุฑ ููุฅูุชุงุฌ

### ุงุณุชุฎุฏุงู Gunicorn (ููุตู ุจู)
```bash
# ุชุซุจูุช gunicorn
pip install gunicorn

# ุชุดุบูู ุงูุฎุฏูุฉ
gunicorn -w 4 -b 0.0.0.0:5001 app:app
```

### ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ
1. ุถุน `DEBUG=False`
2. ุงุณุชุฎุฏู HTTPS
3. ูููุฏ CORS ูููุตุงุฏุฑ ุงูููุซููุฉ ููุท
4. ูุนูู ุงูุณุฌูุงุช (Logging)
5. ุฃุถู ูุฑุงูุจุฉ ุงูุตุญุฉ (Health Monitoring)
6. ุงุณุชุฎุฏู ุฎุงุฏู WSGI ุฅูุชุงุฌู

---

## ุงูุจููุฉ ุงูุชูููุฉ

```
ai_services/
โโโ chatbot/                    # ุฎุฏูุฉ ุงููุญุงุฏุซุฉ
โ   โโโ app.py                 # ุงูุชุทุจูู ุงูุฑุฆูุณู
โ   โโโ requirements.txt       # ุงูุชุจุนูุงุช
โ
โโโ stroke_assessment/         # ุฎุฏูุฉ ุชูููู ุงููุฎุงุทุฑ
โ   โโโ app.py                # ุงูุชุทุจูู ุงูุฑุฆูุณู
โ   โโโ requirements.txt      # ุงูุชุจุนูุงุช
โ   โโโ stroke_model.pkl      # ุงููููุฐุฌ (ุงุฎุชูุงุฑู)
โ
โโโ stroke_image/             # ุฎุฏูุฉ ุชุญููู ุงูุตูุฑ
โ   โโโ app.py               # ุงูุชุทุจูู ุงูุฑุฆูุณู
โ   โโโ requirements.txt     # ุงูุชุจุนูุงุช
โ   โโโ stroke_image_model.h5 # ุงููููุฐุฌ (ุงุฎุชูุงุฑู)
โ
โโโ README.md                # ูุฐุง ุงูููู
โโโ README_AR.md            # ุงูุชูุซูู ุจุงูุนุฑุจูุฉ
โโโ start_all_services.bat  # ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช
โโโ install_dependencies.bat # ุชุซุจูุช ุงูุชุจุนูุงุช
```

---

## ุงูุฃูุงู

### ููุชุทููุฑ
- ุฌููุน ุงูุฎุฏูุงุช ุชุนูู ุนูู localhost
- CORS ููุชูุญ ููุฌููุน
- ูุง ููุฌุฏ HTTPS

### ููุฅูุชุงุฌ
- ุงุณุชุฎุฏู HTTPS
- ูููุฏ CORS
- ุฃุถู Rate Limiting
- ูุนูู ุงูุณุฌูุงุช ุงูุฃูููุฉ
- ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุฅุนุฏุงุฏุงุช ุงูุญุณุงุณุฉ

---

## ุงูุฏุนู ุงูููู

ูููุณุงุนุฏุฉ ุฃู ุงูุฃุณุฆูุฉ:
1. ุฑุงุฌุน ูุณู ุญู ุงููุดุงูู ุฃุนูุงู
2. ุงุทูุน ุนูู `API_DOCUMENTATION.md`
3. ุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ

---

## ุงูุชุฑุฎูุต

ุฌุฒุก ูู ูุดุฑูุน NeuroAid.

---

**ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**

ุฌููุน ุฎุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงูุซูุงุซุฉ ุฌุงูุฒุฉ ููุชูุงููุฉ ูุน Backend ุงูุฑุฆูุณู!
